
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to wfdb’s documentation! &#8212; wfdb 1.3.9 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-wfdb-s-documentation">
<h1>Welcome to wfdb’s documentation!<a class="headerlink" href="#welcome-to-wfdb-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
<span class="target" id="module-wfdb.readwrite.records"></span><dl class="function">
<dt id="wfdb.readwrite.records.rdsamp">
<code class="descclassname">wfdb.readwrite.records.</code><code class="descname">rdsamp</code><span class="sig-paren">(</span><em>recordname</em>, <em>sampfrom=0</em>, <em>sampto=None</em>, <em>channels=None</em>, <em>physical=True</em>, <em>pbdir=None</em>, <em>m2s=True</em>, <em>smoothframes=True</em>, <em>ignoreskew=False</em>, <em>returnres=64</em><span class="sig-paren">)</span><a class="headerlink" href="#wfdb.readwrite.records.rdsamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a WFDB record and return the signal and record descriptors as attributes in a
Record or MultiRecord object.</p>
<p>Usage:
record = rdsamp(recordname, sampfrom=0, sampto=None, channels=None, physical=True, pbdir = None,</p>
<blockquote>
<div>m2s=True, smoothframes = True, ignoreskew=False)</div></blockquote>
<p>Input arguments:
- recordname (required): The name of the WFDB record to be read (without any file extensions).</p>
<blockquote>
<div>If the argument contains any path delimiter characters, the argument will be interpreted as
PATH/baserecord and the data files will be searched for in the local path.</div></blockquote>
<ul>
<li><p class="first">sampfrom (default=0): The starting sample number to read for each channel.</p>
</li>
<li><p class="first">sampto (default=None): The sample number at which to stop reading for each channel.</p>
</li>
<li><p class="first">channels (default=all): Indices specifying the channel to be returned.</p>
</li>
<li><p class="first">physical (default=True): Flag that specifies whether to return signals in physical units in
the p_signals field (True), or digital units in the d_signals field (False).</p>
</li>
<li><dl class="first docutils">
<dt>pbdir (default=None): Option used to stream data from Physiobank. The Physiobank database</dt>
<dd><p class="first last">directory from which to find the required record files.</p>
</dd>
</dl>
<p>eg. For record ‘100’ in ‘<a class="reference external" href="http://physionet.org/physiobank/database/mitdb">http://physionet.org/physiobank/database/mitdb</a>’, pbdir = ‘mitdb’.</p>
</li>
<li><p class="first">m2s (default=True): Flag used when reading multi-segment records. Specifies whether to
directly return a wfdb MultiRecord object (False), or to convert it into and return a wfdb
Record object (True).</p>
</li>
<li><p class="first">smoothframes (default=True): Flag used when reading records with signals having multiple
samples per frame. Specifies whether to smooth the samples in signals with more than
one sample per frame and return an mxn uniform numpy array as the d_signals or p_signals
field (True), or to return a list of 1d numpy arrays containing every expanded sample as
the e_d_signals or e_p_signals field (False).</p>
</li>
<li><p class="first">ignoreskew (default=False): Flag used when reading records with at least one skewed signal.
Specifies whether to apply the skew to align the signals in the output variable (False), or
to ignore the skew field and load in all values contained in the dat files unaligned (True).</p>
</li>
<li><dl class="first docutils">
<dt>returnres (default=64): The numpy array dtype of the returned signals. Options are: 64, 32,</dt>
<dd><p class="first last">16, and 8, where the value represents the numpy int or float dtype. Note that the value
cannot be 8 when physical is True since there is no float8 format.</p>
</dd>
</dl>
</li>
</ul>
<p>Output argument:
- record: The wfdb Record or MultiRecord object representing the contents of the record read.</p>
<dl class="docutils">
<dt>Note: If a signal range or channel selection is specified when calling this function, the</dt>
<dd>the resulting attributes of the returned object will be set to reflect the section
of the record that is actually read, rather than necessarily what is in the header file.
For example, if channels = [0, 1, 2] is specified when reading a 12 channel record, the
‘nsig’ attribute will be 3, not 12.</dd>
<dt>Note: The ‘srdsamp’ function exists as a simple alternative to ‘rdsamp’ for the most common</dt>
<dd>purpose of extracting the physical signals and a few important descriptor fields.
‘srdsamp’ returns two arguments: the physical signals array, and a dictionary of a
few select fields, a subset of the original wfdb Record attributes.</dd>
</dl>
<p>Example Usage:
import wfdb
ecgrecord = wfdb.rdsamp(‘sampledata/test01_00s’, sampfrom=800, channels = [1,3])</p>
</dd></dl>

<dl class="function">
<dt id="wfdb.readwrite.records.wrsamp">
<code class="descclassname">wfdb.readwrite.records.</code><code class="descname">wrsamp</code><span class="sig-paren">(</span><em>recordname</em>, <em>fs</em>, <em>units</em>, <em>signames</em>, <em>p_signals=None</em>, <em>d_signals=None</em>, <em>fmt=None</em>, <em>gain=None</em>, <em>baseline=None</em>, <em>comments=None</em>, <em>basetime=None</em>, <em>basedate=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wfdb.readwrite.records.wrsamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a single segment WFDB record, creating a WFDB header file and any associated dat files.</p>
<p>Usage:
wrsamp(recordname, fs, units, signames, p_signals = None, d_signals=None,</p>
<blockquote>
<div>fmt = None, gain = None, baseline = None, comments = None)</div></blockquote>
<p>Input arguments:
- recordname (required): The string name of the WFDB record to be written (without any file extensions).
- fs (required): The numerical sampling frequency of the record.
- units (required): A list of strings giving the units of each signal channel.
- signames (required): A list of strings giving the signal name of each signal channel.
- p_signals (default=None): An MxN 2d numpy array, where M is the signal length. Gives the physical signal</p>
<blockquote>
<div>values intended to be written. Either p_signals or d_signals must be set, but not both. If p_signals
is set, this method will use it to perform analogue-digital conversion, writing the resultant digital
values to the dat file(s). If fmt is set, gain and baseline must be set or unset together. If fmt is
unset, gain and baseline must both be unset.</div></blockquote>
<ul class="simple">
<li>d_signals (default=None): An MxN 2d numpy array, where M is the signal length. Gives the digital signal
values intended to be directly written to the dat file(s). The dtype must be an integer type. Either
p_signals or d_signals must be set, but not both. In addition, if d_signals is set, fmt, gain and baseline
must also all be set.</li>
<li>fmt (default=None): A list of strings giving the WFDB format of each file used to store each channel.
Accepted formats are: “80”,”212”,”16”,”24”, and “32”. There are other WFDB formats but this library
will not write (though it will read) those file types.</li>
<li>gain (default=None): A list of integers specifying the ADC gain.</li>
<li>baseline (default=None): A list of integers specifying the digital baseline.</li>
<li>comments (default=None): A list of string comments to be written to the header file.</li>
<li>basetime (default=None): A string of the record’s start time in 24h HH:MM:SS(.ms) format.</li>
<li>basedate (default=None): A string of the record’s start date in DD/MM/YYYY format.</li>
</ul>
<dl class="docutils">
<dt>Note: This gateway function was written to enable a simple way to write WFDB record files using</dt>
<dd><p class="first">the most frequently used parameters. Therefore not all WFDB fields can be set via this function.</p>
<p class="last">For more control over attributes, create a wfdb.Record object, manually set its attributes, and
call its wrsamp() instance method. If you choose this more advanced method, see also the setdefaults,
set_d_features, and set_p_features instance methods to help populate attributes.</p>
</dd>
</dl>
<p>Example Usage (with the most common scenario of input parameters):
import wfdb
# Read part of a record from Physiobank
sig, fields = wfdb.srdsamp(‘a103l’, sampfrom = 50000, channels = [0,1], pbdir = ‘challenge/2015/training’)
# Write a local WFDB record (manually inserting fields)
wfdb.wrsamp(‘ecgrecord’, fs = 250, units = [‘mV’, ‘mV’], signames = [‘I’, ‘II’], p_signals = sig, fmt = [‘16’, ‘16’])</p>
</dd></dl>

<dl class="function">
<dt id="wfdb.readwrite.records.dldatabase">
<code class="descclassname">wfdb.readwrite.records.</code><code class="descname">dldatabase</code><span class="sig-paren">(</span><em>pbdb</em>, <em>dlbasedir</em>, <em>records='all'</em>, <em>annotators='all'</em>, <em>keepsubdirs=True</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wfdb.readwrite.records.dldatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Download WFDB record (and optionally annotation) files from a Physiobank database. The database
must contain a ‘RECORDS’ file in its base directory which lists its WFDB records.</p>
<p>Usage:
dldatabase(pbdb, dlbasedir, records = ‘all’, annotators = ‘all’ , keepsubdirs = True, overwrite = False)</p>
<p>Input arguments:
- pbdb (required): The Physiobank database directory to download.</p>
<blockquote>
<div>eg. For database ‘<a class="reference external" href="http://physionet.org/physiobank/database/mitdb">http://physionet.org/physiobank/database/mitdb</a>’, pbdb = ‘mitdb’.</div></blockquote>
<ul class="simple">
<li>dlbasedir (required): The full local directory path in which to download the files.</li>
<li>records (default=’all’): Specifier of the WFDB records to download. Is either a list of strings
which each specify a record, or ‘all’ to download all records listed in the database’s RECORDS file.
eg. records = [‘test01_00s’, test02_45s] for database <a class="reference external" href="https://physionet.org/physiobank/database/macecgdb/">https://physionet.org/physiobank/database/macecgdb/</a></li>
<li>annotators (default=’all’): Specifier of the WFDB annotation file types to download along with
the record files. Is either None to skip downloading any annotations, ‘all’ to download all
annotation types as specified by the ANNOTATORS file, or a list of strings which each specify an
annotation extension.
eg. annotators = [‘anI’] for database <a class="reference external" href="https://physionet.org/physiobank/database/prcp/">https://physionet.org/physiobank/database/prcp/</a></li>
<li>keepsubdirs (default=True): Whether to keep the relative subdirectories of downloaded files
as they are organized in Physiobank (True), or to download all files into the same base directory (False).</li>
<li>overwrite (default=False): If set to True, all files will be redownloaded regardless. If set to False,
existing files with the same name and relative subdirectory will be checked. If the local file is
the same size as the online file, the download is skipped. If the local file is larger, it will be deleted
and the file will be redownloaded. If the local file is smaller, the file will be assumed to be
partially downloaded and the remaining bytes will be downloaded and appended.</li>
</ul>
<p>Example Usage:
import wfdb
wfdb.dldatabase(‘ahadb’, os.getcwd())</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Chen Xie.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>